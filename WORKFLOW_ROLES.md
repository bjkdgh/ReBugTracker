# ReBugTracker 工作流角色说明

## 👥 **角色定义**

| 角色代码 | 角色名称 | 英文标识 | 主要职责 |
|----------|----------|----------|----------|
| gly | 管理员 | Admin | 系统管理、用户管理、全局配置 |
| fzr | 负责人 | Manager | 问题分配、团队管理、进度跟踪 |
| ssz | 实施组 | Implementer | 问题提交、需求反馈、验收确认 |
| zncy | 组内成员 | Team Member | 问题处理、技术实现、状态更新 |

## 🔄 **工作流程**

### 📋 **问题处理流程**

```
实施组(ssz) → 负责人(fzr) → 组内成员(zncy) → 实施组(ssz)
    ↓              ↓              ↓              ↓
  提交问题        分配问题        解决问题        验收确认
```

### 📝 **详细流程说明**

#### 1. **问题提交阶段**
- **操作者**: 实施组 (ssz)
- **动作**: 发现问题，选择负责人，提交到系统
- **通知对象**: 指定的负责人 (fzr)
- **目的**: 让指定负责人了解新问题，准备分配处理

#### 2. **问题分配阶段**
- **操作者**: 负责人 (fzr)
- **动作**: 将问题分配给合适的组内成员
- **通知对象**: 被分配的组内成员 (zncy)
- **目的**: 让处理人员及时知道有新任务

#### 3. **问题处理阶段**
- **操作者**: 组内成员 (zncy)
- **动作**: 分析问题、编写代码、测试解决方案
- **通知对象**: 无（处理过程中的状态更新会通知相关人员）
- **目的**: 专注解决技术问题

#### 4. **问题解决阶段**
- **操作者**: 组内成员 (zncy)
- **动作**: 标记问题为已解决，提供解决方案说明
- **通知对象**: 实施组 (ssz) + 负责人 (fzr)
- **目的**: 让提交者验收，让管理者跟踪进度

#### 5. **验收确认阶段**
- **操作者**: 实施组 (ssz) 或 负责人 (fzr)
- **动作**: 验收解决方案，关闭问题
- **通知对象**: 相关参与者
- **目的**: 确认问题彻底解决

## 🔔 **通知策略**

### 📨 **通知原则**
- **只通知流转参与者**: 避免无关人员收到干扰信息
- **关键节点通知**: 在工作流转的关键节点发送通知
- **角色导向**: 根据角色职责确定通知内容和优先级

### 📋 **具体通知规则**

| 事件 | 操作者 | 通知对象 | 通知原因 |
|------|--------|----------|----------|
| 问题创建 | 实施组 | 指定的负责人 | 需要分配处理 |
| 问题分配 | 负责人 | 被分配的组内成员 | 开始处理任务 |
| 状态更新 | 任何人 | 创建者 + 分配者 | 了解处理进度 |
| 问题解决 | 组内成员 | 实施组 + 负责人 | 需要验收确认 |
| 问题关闭 | 负责人/实施组 | 所有相关人员 | 流程完结通知 |

### 🎯 **通知内容差异化**

#### 对负责人的通知
- 强调管理职责：分配、跟踪、协调
- 包含问题优先级和影响范围
- 提供快速分配的操作链接

#### 对组内成员的通知
- 强调技术细节：问题描述、复现步骤
- 包含相关技术资料和参考信息
- 提供问题处理的操作链接

#### 对实施组的通知
- 强调业务影响：问题对业务的影响
- 包含解决方案和验收标准
- 提供验收确认的操作链接

## 🛠️ **权限设计**

### 📊 **操作权限矩阵**

| 操作 | 管理员 | 负责人 | 实施组 | 组内成员 |
|------|--------|--------|--------|----------|
| 创建问题 | ❌ | ❌ | ✅ | ❌ |
| 查看问题 | ✅(全部) | ✅(自己相关的) | ✅(自己相关的) | ✅(自己相关的) |
| 分配问题 | ❌ | ✅ | ❌ | ❌ |
| 接收问题 | ❌ | ❌ | ❌ | ✅ |
| 解决问题 | ❌ | ❌ | ❌ | ✅ |
| 确认闭环 | ❌ | ❌ | ✅(自己相关的) | ❌ |
| 删除问题 | ✅ | ❌ | ✅(自己创建的) | ❌ |
| 用户管理 | ✅ | ❌ | ❌ | ❌ |
| 系统配置 | ✅ | ❌ | ❌ | ❌ |
| 通知管理 | ✅ | ❌ | ❌ | ❌ |

### 📋 **权限详细说明**

#### 🔍 **查看权限**
- **管理员**: 可以查看所有问题和用户数据（系统管理需要）
- **负责人**: 只能查看自己相关的问题（分配的、需要跟踪的）
- **实施组**: 只能查看自己提交的问题和相关状态
- **组内成员**: 只能查看分配给自己的问题

#### ✏️ **操作权限**
- **创建问题**: 只有实施组可以创建问题（符合实际工作流程）
- **分配问题**: 只有负责人可以分配问题给组内成员
- **接收问题**: 只有组内成员可以确认接收分配的问题
- **解决问题**: 只有组内成员可以标记问题为已解决并提供解决方案
- **确认闭环**: 只有实施组可以确认问题解决方案并关闭问题（自己相关的）
- **删除问题**: 管理员可以删除任何问题，实施组只能删除自己创建的问题

#### 🛠️ **管理权限**
- **用户管理**: 只有管理员可以创建、编辑、删除用户
- **系统配置**: 只有管理员可以修改系统配置
- **通知管理**: 只有管理员可以管理通知系统设置

### 🔔 **通知权限**

| 通知管理 | 管理员 | 负责人 | 实施组 | 组内成员 |
|----------|--------|--------|--------|----------|
| 服务器通知开关 | ✅ | ❌ | ❌ | ❌ |
| 用户通知设置 | ✅ | ❌ | ❌ | ❌ |
| 个人通知偏好 | ✅ | ✅ | ✅ | ✅ |

## 📈 **流程优化建议**

### 🎯 **提高效率**
1. **自动分配**: 根据问题类型和成员专长自动推荐分配对象
2. **优先级管理**: 根据问题紧急程度调整通知优先级
3. **批量处理**: 支持批量分配和批量状态更新

### 🔍 **增强透明度**
1. **进度可视化**: 提供问题处理进度的可视化展示
2. **统计报告**: 定期生成团队效率和问题分析报告
3. **历史追踪**: 完整记录问题处理的历史轨迹

### 🤝 **改善协作**
1. **评论系统**: 支持在问题上添加讨论和备注
2. **@提醒**: 支持在评论中@特定用户
3. **文件共享**: 支持在问题中共享相关文档和资料

## 🎯 **实际使用场景**

### 📝 **典型工作流程示例**

#### 场景：实施组发现系统Bug

1. **实施组(ssz)操作**：
   ```
   登录系统 → 点击"提交问题" → 填写Bug描述 → 选择负责人 → 提交
   ```
   - **系统动作**：创建问题记录，状态为"待分配"
   - **通知发送**：自动通知指定的负责人

2. **负责人(fzr)操作**：
   ```
   收到通知 → 查看问题详情 → 选择合适的组内成员 → 分配问题
   ```
   - **系统动作**：更新问题状态为"已分配"，记录分配人
   - **通知发送**：自动通知被分配的组内成员

3. **组内成员(zncy)操作**：
   ```
   收到通知 → 接收问题 → 分析原因 → 编写代码 → 测试 → 标记为"已解决"
   ```
   - **系统动作**：更新问题状态，记录解决方案
   - **通知发送**：自动通知实施组和负责人

4. **实施组(ssz)验收**：
   ```
   收到通知 → 测试解决方案 → 确认修复 → 关闭问题
   ```
   - **系统动作**：问题状态变为"已关闭"
   - **通知发送**：通知相关人员问题已完结

### 🔐 **权限控制实例**

#### 管理员用户登录后能看到：
- ✅ 所有问题的列表和详情
- ✅ 用户管理功能
- ✅ 系统配置功能
- ✅ 通知管理功能
- ✅ 删除任何问题的权限
- ❌ 创建问题的功能（不是主要职责）

#### 负责人用户登录后能看到：
- ✅ 自己相关的问题列表和详情
- ✅ 分配问题的功能
- ✅ 问题统计和报表
- ❌ 创建问题的功能
- ❌ 用户管理功能
- ❌ 删除问题的功能

#### 实施组用户登录后能看到：
- ✅ 自己提交的所有问题
- ✅ 提交新问题的按钮
- ✅ 关闭已解决问题的按钮（自己相关的）
- ✅ 删除自己创建的问题
- ❌ 分配问题的功能
- ❌ 其他用户的问题

#### 组内成员登录后能看到：
- ✅ 分配给自己的问题
- ✅ 接收问题的功能
- ✅ 解决问题的功能
- ✅ 更新问题状态的功能
- ❌ 创建问题的功能
- ❌ 分配问题给别人
- ❌ 删除问题

---

**这个角色和流程设计确保了信息在正确的时间传递给正确的人，提高团队协作效率。** 🎯
